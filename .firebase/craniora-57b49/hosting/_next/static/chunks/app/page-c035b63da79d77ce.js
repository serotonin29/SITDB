(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1670:function(e,s,n){Promise.resolve().then(n.t.bind(n,2972,23)),Promise.resolve().then(n.bind(n,5053))},5466:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},9090:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},7692:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3774:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8293:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7806:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5805:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,s,n){"use strict";n.d(s,{Z:function(){return a}});let a=(0,n(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5053:function(e,s,n){"use strict";n.d(s,{Navbar:function(){return f}});var a=n(7437),t=n(7648),r=n(605),i=n(2265),l=n(6865),c=n(3774),d=n(5466),o=n(5805),x=n(7692),h=n(9090),m=n(7806),u=n(2489),p=n(8293);function f(){var e,s,n,f,y;let{data:j,status:w}=(0,r.useSession)(),[N,k]=(0,i.useState)(!1),v=(null==j?void 0:null===(e=j.user)||void 0===e?void 0:e.role)==="ADMIN";return null==j||null===(s=j.user)||void 0===s||s.role,(0,a.jsxs)("nav",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white shadow-lg sticky top-0 z-50",children:[(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)(t.default,{href:"/",className:"flex items-center space-x-2",children:[(0,a.jsx)(l.Z,{className:"h-8 w-8 text-warning-400"}),(0,a.jsx)("span",{className:"text-xl font-bold",children:"SITDB"})]})}),(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,a.jsxs)(t.default,{href:"/map",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,a.jsx)(c.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Peta"})]}),j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.default,{href:"/dashboard",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,a.jsx)(d.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Dashboard"})]}),(0,a.jsxs)(t.default,{href:"/reports/new",className:"flex items-center space-x-1 px-3 py-2 bg-warning-500 hover:bg-warning-600 rounded-md transition-colors font-semibold",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Laporkan"})]}),v&&(0,a.jsxs)(t.default,{href:"/admin",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Admin"})]})]}),"loading"===w?(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 animate-pulse"}):j?(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("p",{className:"font-semibold",children:null===(n=j.user)||void 0===n?void 0:n.name}),(0,a.jsx)("p",{className:"text-xs text-white/70 capitalize",children:null===(y=j.user)||void 0===y?void 0:null===(f=y.role)||void 0===f?void 0:f.toLowerCase()})]}),(0,a.jsx)("button",{onClick:()=>(0,r.signOut)({callbackUrl:"/"}),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Keluar",children:(0,a.jsx)(x.Z,{className:"h-5 w-5"})})]}):(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(t.default,{href:"/login",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Masuk"})]}),(0,a.jsxs)(t.default,{href:"/register",className:"flex items-center space-x-1 px-3 py-2 bg-white text-primary-600 rounded-md hover:bg-white/90 transition-colors font-semibold",children:[(0,a.jsx)(m.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Daftar"})]})]})]}),(0,a.jsx)("div",{className:"md:hidden flex items-center",children:(0,a.jsx)("button",{onClick:()=>k(!N),className:"p-2 rounded-md hover:bg-white/10 transition-colors",children:N?(0,a.jsx)(u.Z,{className:"h-6 w-6"}):(0,a.jsx)(p.Z,{className:"h-6 w-6"})})})]})}),N&&(0,a.jsx)("div",{className:"md:hidden bg-primary-700 border-t border-white/10",children:(0,a.jsxs)("div",{className:"px-4 py-3 space-y-2",children:[(0,a.jsxs)(t.default,{href:"/map",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>k(!1),children:[(0,a.jsx)(c.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Peta Bencana"})]}),j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.default,{href:"/dashboard",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>k(!1),children:[(0,a.jsx)(d.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Dashboard"})]}),(0,a.jsxs)(t.default,{href:"/reports/new",className:"flex items-center space-x-2 px-3 py-2 bg-warning-500 rounded-md transition-colors",onClick:()=>k(!1),children:[(0,a.jsx)(l.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Laporkan Bencana"})]}),v&&(0,a.jsxs)(t.default,{href:"/admin",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>k(!1),children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Admin Panel"})]}),(0,a.jsxs)("button",{onClick:()=>{k(!1),(0,r.signOut)({callbackUrl:"/"})},className:"flex items-center space-x-2 px-3 py-2 w-full text-left rounded-md hover:bg-white/10 transition-colors text-red-300",children:[(0,a.jsx)(x.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Keluar"})]})]}),!j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.default,{href:"/login",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>k(!1),children:[(0,a.jsx)(h.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Masuk"})]}),(0,a.jsxs)(t.default,{href:"/register",className:"flex items-center space-x-2 px-3 py-2 bg-white text-primary-600 rounded-md transition-colors",onClick:()=>k(!1),children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Daftar"})]})]})]})})]})}}},function(e){e.O(0,[976,605,971,117,744],function(){return e(e.s=1670)}),_N_E=e.O()}]);