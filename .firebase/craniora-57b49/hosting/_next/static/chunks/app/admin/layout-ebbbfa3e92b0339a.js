(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[91],{2019:function(e,t,s){Promise.resolve().then(s.bind(s,6893))},8736:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},5466:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},7692:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3774:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8293:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},3247:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2369:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},5805:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},6893:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return L}});var a=s(7437),l=s(2265),r=s(7648),n=s(9376),i=s(605),d=s(5466),c=s(3774),o=s(8736),u=s(5805),h=s(9205);let x=(0,h.Z)("Tent",[["path",{d:"M3.5 21 14 3",key:"1szst5"}],["path",{d:"M20.5 21 10 3",key:"1310c3"}],["path",{d:"M15.5 21 12 15l-3.5 6",key:"1ddtfw"}],["path",{d:"M2 21h20",key:"1nyx9w"}]]),m=(0,h.Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);var f=s(6865);let p=(0,h.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),v=(0,h.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var b=s(2489);let N=[{title:"Dashboard",href:"/dashboard",icon:d.Z,roles:["ADMIN","KOORDINATOR","RELAWAN","RELAWAN_MEDIS","RELAWAN_LAPANGAN","MASYARAKAT","DONOR"]},{title:"Peta Bencana",href:"/map",icon:c.Z,roles:["ADMIN","KOORDINATOR","RELAWAN","RELAWAN_MEDIS","RELAWAN_LAPANGAN","MASYARAKAT","DONOR"]},{title:"Laporan",href:"/reports",icon:o.Z,roles:["ADMIN","KOORDINATOR","RELAWAN","RELAWAN_MEDIS","RELAWAN_LAPANGAN","MASYARAKAT"]},{title:"Manajemen Akun",href:"/admin/users",icon:u.Z,roles:["ADMIN"]},{title:"Posko & Pengungsi",href:"/refugees",icon:x,roles:["ADMIN","KOORDINATOR","RELAWAN","RELAWAN_MEDIS","RELAWAN_LAPANGAN"]},{title:"Logistik",href:"/logistics",icon:m,roles:["ADMIN","KOORDINATOR"]}];function y(e){var t,s,l,d,c,o,u;let{isOpen:h,setIsOpen:x,collapsed:m,setCollapsed:y}=e,j=(0,n.usePathname)(),{data:g}=(0,i.useSession)(),k=(null==g?void 0:null===(t=g.user)||void 0===t?void 0:t.role)||"MASYARAKAT",A=N.filter(e=>e.roles.includes(k)||e.roles.includes("ALL"));return(0,a.jsxs)(a.Fragment,{children:[h&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>x(!1)}),(0,a.jsxs)("aside",{className:"\n                    fixed md:sticky top-0 left-0 z-40 h-screen transition-all duration-300 ease-in-out\n                    bg-slate-900 border-r border-slate-800 text-slate-300\n                    ".concat(h?"translate-x-0":"-translate-x-full md:translate-x-0","\n                    ").concat(m?"w-20":"w-64","\n                "),children:[(0,a.jsxs)("div",{className:"h-16 flex items-center justify-between px-4 border-b border-slate-800 bg-slate-950",children:[!m&&(0,a.jsxs)(r.default,{href:"/",className:"flex items-center gap-2 font-bold text-lg text-white",children:[(0,a.jsx)(f.Z,{className:"w-6 h-6 text-blue-500"}),(0,a.jsx)("span",{children:"SITDB"})]}),m&&(0,a.jsx)("div",{className:"mx-auto",children:(0,a.jsx)(f.Z,{className:"w-6 h-6 text-blue-500"})}),(0,a.jsx)("button",{onClick:()=>y(!m),className:"hidden md:flex p-1.5 rounded-lg hover:bg-slate-800 transition-colors",children:m?(0,a.jsx)(p,{className:"w-4 h-4"}):(0,a.jsx)(v,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:()=>x(!1),className:"md:hidden p-1 rounded-md hover:bg-slate-800",children:(0,a.jsx)(b.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto py-4",children:(0,a.jsx)("nav",{className:"px-2 space-y-1",children:A.map(e=>{let t=j===e.href||(null==j?void 0:j.startsWith(e.href+"/"));return(0,a.jsxs)(r.default,{href:e.href,className:"\n                                        flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group\n                                        ".concat(t?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"hover:bg-slate-800 hover:text-white","\n                                        ").concat(m?"justify-center":"","\n                                    "),title:m?e.title:void 0,children:[(0,a.jsx)(e.icon,{className:"w-5 h-5 flex-shrink-0 ".concat(t?"text-white":"text-slate-400 group-hover:text-white")}),!m&&(0,a.jsx)("span",{className:"font-medium truncate",children:e.title})]},e.href)})})}),(0,a.jsx)("div",{className:"p-4 border-t border-slate-800 bg-slate-950",children:(0,a.jsxs)("div",{className:"flex items-center gap-3 ".concat(m?"justify-center":""),children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold border border-blue-500/30",children:(null==g?void 0:null===(d=g.user)||void 0===d?void 0:null===(l=d.name)||void 0===l?void 0:null===(s=l[0])||void 0===s?void 0:s.toUpperCase())||"U"}),!m&&(0,a.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:(null==g?void 0:null===(c=g.user)||void 0===c?void 0:c.name)||"User"}),(0,a.jsx)("p",{className:"text-xs text-slate-500 truncate capitalize",children:(null==g?void 0:null===(u=g.user)||void 0===u?void 0:null===(o=u.role)||void 0===o?void 0:o.toLowerCase().replace("_"," "))||"Guest"})]})]})})]})]})}var j=s(8293),g=s(3247);let k=(0,h.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var A=s(2369);let w=(0,h.Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var M=s(7692);function Z(e){var t,s,n,d,c;let{setSidebarOpen:o,breadcrumbs:u=[]}=e,{data:h}=(0,i.useSession)(),[x,m]=(0,l.useState)(!1);return(0,a.jsxs)("header",{className:"h-16 flex items-center justify-between px-4 sm:px-6 lg:px-8 bg-slate-900/50 backdrop-blur-sm border-b border-slate-800 sticky top-0 z-30",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>o(!0),className:"md:hidden p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg",children:(0,a.jsx)(j.Z,{className:"w-5 h-5"})}),(0,a.jsxs)("nav",{className:"hidden sm:flex items-center text-sm font-medium text-slate-400",children:[(0,a.jsx)(r.default,{href:"/dashboard",className:"hover:text-blue-400 transition-colors",children:"Beranda"}),u.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"mx-2 text-slate-600",children:"/"}),e.href?(0,a.jsx)(r.default,{href:e.href,className:"hover:text-blue-400 transition-colors",children:e.label}):(0,a.jsx)("span",{className:"text-slate-200",children:e.label})]},t))]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center relative",children:[(0,a.jsx)(g.Z,{className:"w-4 h-4 absolute left-3 text-slate-500"}),(0,a.jsx)("input",{type:"text",placeholder:"Cari...",className:"bg-slate-950 border border-slate-800 text-sm rounded-full pl-9 pr-4 py-1.5 w-64 focus:outline-none focus:ring-2 focus:ring-blue-500/50 text-slate-300 placeholder:text-slate-600"})]}),(0,a.jsxs)("button",{className:"relative p-2 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",children:[(0,a.jsx)(k,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full border-2 border-slate-900"})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("button",{onClick:()=>m(!x),className:"flex items-center gap-2 p-1.5 rounded-full hover:bg-slate-800 transition-colors border border-transparent hover:border-slate-700",children:[(null==h?void 0:null===(t=h.user)||void 0===t?void 0:t.image)?(0,a.jsx)("img",{src:h.user.image,alt:h.user.name||"User",className:"w-8 h-8 rounded-full object-cover"}):(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-slate-300",children:(0,a.jsx)(A.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"hidden sm:block text-sm font-medium text-slate-300 pr-2",children:null==h?void 0:null===(n=h.user)||void 0===n?void 0:null===(s=n.name)||void 0===s?void 0:s.split(" ")[0]})]}),x&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>m(!1)}),(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-slate-900 border border-slate-800 rounded-xl shadow-xl z-20 overflow-hidden py-1",children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b border-slate-800",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-white truncate",children:null==h?void 0:null===(d=h.user)||void 0===d?void 0:d.name}),(0,a.jsx)("p",{className:"text-xs text-slate-500 truncate",children:null==h?void 0:null===(c=h.user)||void 0===c?void 0:c.email})]}),(0,a.jsxs)(r.default,{href:"/profile",className:"flex items-center gap-2 px-4 py-2 text-sm text-slate-300 hover:bg-slate-800 hover:text-white",children:[(0,a.jsx)(A.Z,{className:"w-4 h-4"}),"Profile"]}),(0,a.jsxs)("button",{className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-slate-300 hover:bg-slate-800 hover:text-white",children:[(0,a.jsx)(w,{className:"w-4 h-4"}),"Settings"]}),(0,a.jsx)("div",{className:"border-t border-slate-800 my-1"}),(0,a.jsxs)("button",{onClick:()=>(0,i.signOut)({callbackUrl:"/"}),className:"flex w-full items-center gap-2 px-4 py-2 text-sm text-red-400 hover:bg-red-500/10 hover:text-red-300",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4"}),"Keluar"]})]})]})]})]})]})}function R(e){let{children:t,breadcrumbs:s}=e,[r,n]=(0,l.useState)(!1),[i,d]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:"flex min-h-screen bg-slate-950 text-slate-200 font-sans",children:[(0,a.jsx)(y,{isOpen:r,setIsOpen:n,collapsed:i,setCollapsed:d}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300",children:[(0,a.jsx)(Z,{setSidebarOpen:n,breadcrumbs:s}),(0,a.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto space-y-6",children:t})})]})]})}function L(e){let{children:t}=e,s=(0,n.usePathname)(),l=[{label:"Admin",href:"/admin"},..."/admin/users"===s?[{label:"Manajemen Akun"}]:[],..."/admin/reports"===s?[{label:"Manajemen Laporan"}]:[]];return(0,a.jsx)(R,{breadcrumbs:l,children:t})}}},function(e){e.O(0,[976,605,971,117,744],function(){return e(e.s=2019)}),_N_E=e.O()}]);