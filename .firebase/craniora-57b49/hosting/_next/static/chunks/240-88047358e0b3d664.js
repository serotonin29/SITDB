"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{5466:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]])},1817:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9090:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},7692:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},3774:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8293:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},7806:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},5805:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},2489:function(e,n,s){s.d(n,{Z:function(){return t}});let t=(0,s(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},166:function(e,n,s){s.d(n,{default:function(){return a.a}});var t=s(5775),a=s.n(t)},9376:function(e,n,s){var t=s(5475);s.o(t,"useParams")&&s.d(n,{useParams:function(){return t.useParams}}),s.o(t,"usePathname")&&s.d(n,{usePathname:function(){return t.usePathname}}),s.o(t,"useRouter")&&s.d(n,{useRouter:function(){return t.useRouter}})},5775:function(e,n,s){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});let t=s(7043);s(7437),s(2265);let a=t._(s(5602));function r(e,n){var s;let t={loading:e=>{let{error:n,isLoading:s,pastDelay:t}=e;return null}};"function"==typeof e&&(t.loader=e);let r={...t,...n};return(0,a.default)({...r,modules:null==(s=r.loadableGenerated)?void 0:s.modules})}("function"==typeof n.default||"object"==typeof n.default&&null!==n.default)&&void 0===n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},1523:function(e,n,s){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let t=s(8993);function a(e){let{reason:n,children:s}=e;if("undefined"==typeof window)throw new t.BailoutToCSRError(n);return s}},5602:function(e,n,s){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});let t=s(7437),a=s(2265),r=s(1523),l=s(49);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let n={...d,...e},s=(0,a.lazy)(()=>n.loader().then(i)),c=n.loading;function o(e){let i=c?(0,t.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,d=n.ssr?(0,t.jsxs)(t.Fragment,{children:["undefined"==typeof window?(0,t.jsx)(l.PreloadCss,{moduleIds:n.modules}):null,(0,t.jsx)(s,{...e})]}):(0,t.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,t.jsx)(s,{...e})});return(0,t.jsx)(a.Suspense,{fallback:i,children:d})}return o.displayName="LoadableComponent",o}},49:function(e,n,s){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PreloadCss",{enumerable:!0,get:function(){return r}});let t=s(7437),a=s(544);function r(e){let{moduleIds:n}=e;if("undefined"!=typeof window)return null;let s=(0,a.getExpectedRequestStore)("next/dynamic css"),r=[];if(s.reactLoadableManifest&&n){let e=s.reactLoadableManifest;for(let s of n){if(!e[s])continue;let n=e[s].files.filter(e=>e.endsWith(".css"));r.push(...n)}}return 0===r.length?null:(0,t.jsx)(t.Fragment,{children:r.map(e=>(0,t.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},5053:function(e,n,s){s.d(n,{Navbar:function(){return p}});var t=s(7437),a=s(7648),r=s(605),l=s(2265),i=s(6865),d=s(3774),c=s(5466),o=s(5805),u=s(7692),x=s(9090),h=s(7806),f=s(2489),m=s(8293);function p(){var e,n,s,p,y;let{data:j,status:b}=(0,r.useSession)(),[w,g]=(0,l.useState)(!1),v=(null==j?void 0:null===(e=j.user)||void 0===e?void 0:e.role)==="ADMIN";return null==j||null===(n=j.user)||void 0===n||n.role,(0,t.jsxs)("nav",{className:"bg-gradient-to-r from-primary-600 to-primary-800 text-white shadow-lg sticky top-0 z-50",children:[(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"flex justify-between h-16",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)(a.default,{href:"/",className:"flex items-center space-x-2",children:[(0,t.jsx)(i.Z,{className:"h-8 w-8 text-warning-400"}),(0,t.jsx)("span",{className:"text-xl font-bold",children:"SITDB"})]})}),(0,t.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,t.jsxs)(a.default,{href:"/map",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Peta"})]}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.default,{href:"/dashboard",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Dashboard"})]}),(0,t.jsxs)(a.default,{href:"/reports/new",className:"flex items-center space-x-1 px-3 py-2 bg-warning-500 hover:bg-warning-600 rounded-md transition-colors font-semibold",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Laporkan"})]}),v&&(0,t.jsxs)(a.default,{href:"/admin",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Admin"})]})]}),"loading"===b?(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/20 animate-pulse"}):j?(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-semibold",children:null===(s=j.user)||void 0===s?void 0:s.name}),(0,t.jsx)("p",{className:"text-xs text-white/70 capitalize",children:null===(y=j.user)||void 0===y?void 0:null===(p=y.role)||void 0===p?void 0:p.toLowerCase()})]}),(0,t.jsx)("button",{onClick:()=>(0,r.signOut)({callbackUrl:"/"}),className:"p-2 rounded-md hover:bg-white/10 transition-colors",title:"Keluar",children:(0,t.jsx)(u.Z,{className:"h-5 w-5"})})]}):(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(a.default,{href:"/login",className:"flex items-center space-x-1 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Masuk"})]}),(0,t.jsxs)(a.default,{href:"/register",className:"flex items-center space-x-1 px-3 py-2 bg-white text-primary-600 rounded-md hover:bg-white/90 transition-colors font-semibold",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Daftar"})]})]})]}),(0,t.jsx)("div",{className:"md:hidden flex items-center",children:(0,t.jsx)("button",{onClick:()=>g(!w),className:"p-2 rounded-md hover:bg-white/10 transition-colors",children:w?(0,t.jsx)(f.Z,{className:"h-6 w-6"}):(0,t.jsx)(m.Z,{className:"h-6 w-6"})})})]})}),w&&(0,t.jsx)("div",{className:"md:hidden bg-primary-700 border-t border-white/10",children:(0,t.jsxs)("div",{className:"px-4 py-3 space-y-2",children:[(0,t.jsxs)(a.default,{href:"/map",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>g(!1),children:[(0,t.jsx)(d.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Peta Bencana"})]}),j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.default,{href:"/dashboard",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>g(!1),children:[(0,t.jsx)(c.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Dashboard"})]}),(0,t.jsxs)(a.default,{href:"/reports/new",className:"flex items-center space-x-2 px-3 py-2 bg-warning-500 rounded-md transition-colors",onClick:()=>g(!1),children:[(0,t.jsx)(i.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Laporkan Bencana"})]}),v&&(0,t.jsxs)(a.default,{href:"/admin",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>g(!1),children:[(0,t.jsx)(o.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Admin Panel"})]}),(0,t.jsxs)("button",{onClick:()=>{g(!1),(0,r.signOut)({callbackUrl:"/"})},className:"flex items-center space-x-2 px-3 py-2 w-full text-left rounded-md hover:bg-white/10 transition-colors text-red-300",children:[(0,t.jsx)(u.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Keluar"})]})]}),!j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(a.default,{href:"/login",className:"flex items-center space-x-2 px-3 py-2 rounded-md hover:bg-white/10 transition-colors",onClick:()=>g(!1),children:[(0,t.jsx)(x.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Masuk"})]}),(0,t.jsxs)(a.default,{href:"/register",className:"flex items-center space-x-2 px-3 py-2 bg-white text-primary-600 rounded-md transition-colors",onClick:()=>g(!1),children:[(0,t.jsx)(h.Z,{className:"h-5 w-5"}),(0,t.jsx)("span",{children:"Daftar"})]})]})]})})]})}}}]);